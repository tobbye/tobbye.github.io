

var colorRes =  {
    team0: [0x7ABB4A],
    team1: [0xBB4A7A],
    team2: [0xBB7A4A],
    team3: [0x7A4ABB],
    team4: [0x4A7ABB],
    team5: [0x4ABB7A],
    team6: [0x7ABB4A],
    tree0: [0x9B6A6B, 0x4ABB7A, 0x4ABB7A],
    tree1: [0x9B6A6B, 0xBB4A7A, 0xBB4A7A],
    tree2: [0x9B6A6B, 0xBB7A4A, 0xBB7A4A],
    tree3: [0x9B6A6B, 0x7A4ABB, 0x7A4ABB],
    tree4: [0x9B6A6B, 0x4A7ABB, 0x4A7ABB],
    tree5: [0x9B6A6B, 0x4ABB7A, 0x4ABB7A],
    tree6: [0x9B6A6B, 0x7ABB4A, 0x7ABB4A],
};

// modelRes参数
// 基本B1: shape              默认null=0=[0]
// 坐标P3: position x, y, z   默认null=0=[0,0,0]
// 缩放S3: scale x, y, z      默认null=0=[1,1,1]
// 旋转R3: rotate x, y, z     默认null=0=[0,0,0]
// 材质M4: color, opacity, cast, receive 默认null=0=[0x888888,.00,0,0]
var modelRes = {
    cube: [[[1], 0, 0, 0], [0x7ABB4A, .20, 1, 0]],
    cross: [
        [[1], 0, [1, .5, .5], 0],
        [[1], 0, [.5, 1, .5], 0],
    ],
    river1: [
        [[1], 0, 0, 0, [0x70B7E3, .50, 0, 0]],
    ],
    land1: [
        [[1], 0, 0, 0, [0xABD66A, .50, 0, 0]],
    ],
    hill0: [
        [[1], 0, 0, 0, [0x7ABB4A, .20, 0, 0]],
    ],
    hill1: [
        [[1], 0, 0, 0, [0x7ABB4A, .20, 0, 0]],
        [[1], [ .5,  0, 0], [ .1,  1.1, 2], 0, [0x7ABB4A, .20, 1, 0]],
        [[1], [-.5,  0, 0], [ .1,  1.1, 2], 0, [0x7ABB4A, .20, 1, 0]],
        [[1], [  0, .5, 0], [  1.1, .1, 2], 0, [0x7ABB4A, .20, 1, 0]],
        [[1], [  0,-.5, 0], [  1.1, .1, 2], 0, [0x7ABB4A, .20, 1, 0]],
    ],
    camp0: [
        [[1], 0, 0, 0, [0x7ABB4A, .20, 0, 0]],
    ],
    camp1: [
        [[1], 0, 0, 0, [0x7ABB4A, .40, 0, 0]],
        [[1], [ .5,  0, 0], [.05, .40, 2], 0, [0x7ABB4A, .20, 1, 0]],
        [[1], [-.5,  0, 0], [.05, .40, 2], 0, [0x7ABB4A, .20, 1, 0]],
        [[1], [  0,-.5, 0], [.40, .05, 2], 0, [0x7ABB4A, .20, 1, 0]],
        [[1], [  0, .5, 0], [.40, .05, 2], 0, [0x7ABB4A, .20, 1, 0]],
    ],
    tower1: [
        [[1], [0, 0, -1], [3.0, 3.0, 1], 0, [0xBB4A7A, .00, 1, 1]],
        [[1], [0, 0,-.5], [2.2, 2.2, 3], 0, [0xBB4A7A, .00, 1, 1]],
        [[1], [0, 0, .5], [1.4, 1.4, 2], 0, [0xBB4A6A, .25, 1, 0]], 
        [[1], [0, 0,  1], [1.0, 1.0, 3], 0, [0xBB4A6A, .25, 1, 0]], 
    ],
    tower2: [
        [[1], [0, 0, -1], [3.0, 3.0, 1], 0, [0xBB4A7A, .00, 1, 1]],
        [[1], [0, 0,-.5], [2.2, 2.2, 3], 0, [0xBB4A7A, .00, 1, 1]],
        [[1], [0, 0, .5], [1.4, 1.4, 2], 0, [0xBB4A6A, .25, 1, 0]], 
        [[1], [0, 0,  1], [1.0, 1.0, 3], 0, [0xBB4A6A, .25, 1, 0]], 
    ],
    tower3: [
        [[3], [0, 0,-1], [2, 2, 1], 0, [0xBB4A7A, .00, 1, 1]],
        [[5], [0, 0, 0], [1.8, 0.3, 10], [0, 0, 0], [0xBB4A7A, .00, 1, 1]],
        [[5], [0, 0, 0], [1.8, 0.3, 10], [0, 0, 90], [0xBB4A7A, .00, 1, 1]],
        [[2], [0, 0, 2], [1, 32, 32], 0, [0xBB4A6A, .25, 1, 0]], 
    ],
    tower4: [
        [[3], [0, 0,-1], [2, 2, 1], 0, [0xBB4A7A, .00, 1, 1]],
        [[5], [0, 0, 0], [1.8, 0.3, 10], [0, 0, 0], [0xBB4A7A, .00, 1, 1]],
        [[5], [0, 0, 0], [1.8, 0.3, 10], [0, 0, 90], [0xBB4A7A, .00, 1, 1]],
        [[3], [0, 0, 1], [.6, .6, 3], 0, [0xBB4A6A, .25, 1, 0]], 
    ],
    bridge1: [
        [[1], [-2.1,  0, 2], [1, 4, .1], 0, [0xA98F78, .10, 1, 1]],
        [[1], [ -.7,  0, 2], [1, 4, .1], 0, [0xA98F78, .10, 1, 1]],
        [[1], [  .7,  0, 2], [1, 4, .1], 0, [0xA98F78, .10, 1, 1]],
        [[1], [ 2.1,  0, 2], [1, 4, .1], 0, [0xA98F78, .10, 1, 1]],
        [[1], [-3,  2, 3], [.2, .2, 1.5], 0, [0xA98F78, .00, 1, 0]],
        [[1], [ 3,  2, 3], [.2, .2, 1.5], 0, [0xA98F78, .00, 1, 0]],
        [[1], [-3, -2, 3], [.2, .2, 1.5], 0, [0xA98F78, .00, 1, 0]],
        [[1], [ 3, -2, 3], [.2, .2, 1.5], 0, [0xA98F78, .00, 1, 0]],
        [[1], [ 0,  2, 3], [6, .16, .16], 0, [0xA98F78, .00, 1, 0]],
        [[1], [ 0, -2, 3], [6, .16, .16], 0, [0xA98F78, .00, 1, 0]],
    ],
    tree1: [
        [[1], [0, 0, -.5], [ .5, .5, 1.6], 0, [0x9B6A6B, .00, 1, 1]],
        [[1], [0, 0,  .5], [ .8, .8, 1.6], 0, [0xBB4A7A, .25, 1, 0]],
        [[1], [0, 0, 1.5], [ .5, .5,  .5], 0, [0xBB4A6A, .25, 1, 0]],
    ],
    tree2: [
        [[1], [0, 0, -.5], [ .5, .5, 1.6], 0, [0x9B6A6B, .00, 1, 1]],
        [[1], [0, 0,  .5], [ .8, .8, 1.6], 0, [0xBB4A7A, .25, 1, 0]],
        [[1], [.55, 0,  .5], [ .3, .4, 1.0], 0, [0xBB4A7A, .25, 1, 0]],
        [[1], [-.55, 0,  .5], [ .3, .4, 1.0], 0, [0xBB4A7A, .25, 1, 0]],
        [[1], [0, 0, 1.5], [ .5, .5,  .5], 0, [0xBB4A6A, .25, 1, 0]],
    ],
    obstacle1: [

    ],
}




var cfg = {
    smallBattle: {
        name: '种族大战 | 小型地图 | 战斗',
        map: 'mapSmall',
        scale: .10, 
        camSize: 1.2,
        camMinScale: .6,
        camMaxScale: 1.8,
        camPos:[4, 4, 5.66],
        offset: -3.0,
    },
    smallDevelop: {
        name: '种族大战 | 小型地图 | 发展',
        map: 'mapSmall',
        scale: .10, 
        camSize: 1.5,
        camMinScale: .5,
        camMaxScale: 1.7,
        camPos:[4, 4, 6],
        offset: -4.0,
    },
    largeBattle: {
        name: '种族大战 | 大型地图 | 战斗',
        map: 'mapLarge',
        scale: .10, 
        camSize: 2.0,
        camMinScale: .5,
        camMaxScale: 2,
        camPos:[6, 6, 8.48],
        offset: -4.0,
    },
    largeDevelop: {
        name: '种族大战 | 大型地图 | 发展',
        map: 'mapLarge',
        scale: .10, 
        camSize: 2.0,
        camMinScale: .4,
        camMaxScale: 2.4,
        camPos:[3, 3, 6],
        offset: -6.0,
    },
    mapDef: {
        name: '种族大战 | 防守地图',
        map: 'mapDef',
        scale: .10, 
        camSize: 2.0,
        camMinScale: .4,
        camMaxScale: 2.4,
        camPos:[3, 3, 6],
        offset: -6.0,   
    }
}

var mapCfg = {
    b:{z:2, scale: [17, 17, 2], mod:'cube', cid:'team0'},
    c:{z:3, scale: [1, 1, 3], mod:'cube', cid:'team0'},
    w:{z:3, scale: [1, .6, 3], mod:'cube', cid:'team2'},
    d:{z:3, scale: [1, .6, 1.5], mod:'cube', cid:'team3'},
    t:{z:3, scale: [.8, .8, .8], mod:'tree1', cid:'team0'},
    l:{z:1, scale: [51, 51, 1.6], mod:'land1'},
    r:{z:-1, scale: [55, 55, 4], mod:'river1'},
    river87:{z:-1, scale: [87, 87, 4], mod:'river1'},
    river51:{z:-1, scale: [51, 51, 4], mod:'river1'},
    hill9:{z:1.5, scale: [ 9, 9, 2], mod:'hill1', cid:'team0'},
    hill0:{z:1.5, scale: [ 5,  5, 2], mod:'hill1', cid:'team0'},
    hill1:{z:1.5, scale: [ 5,  5, 2], mod:'hill1', cid:'team1'},
    hill2:{z:1.5, scale: [ 5,  5, 2], mod:'hill1', cid:'team2'},
    hill3:{z:1.5, scale: [ 5,  5, 2], mod:'hill1', cid:'team3'},
    hill4:{z:1.5, scale: [ 5,  5, 2], mod:'hill1', cid:'team4'},
    land55:{z:1, scale: [55, 55, 2], mod:'land1'},
    land33:{z:1, scale: [33, 33, 2], mod:'land1'},
    land11:{z:1, scale: [11, 11, 2], mod:'land1'},
    land1:{z:1, scale: [19, 11, 2], mod:'land1'},
    land2:{z:1, scale: [11, 19, 2], mod:'land1'},
    land3:{z:1, scale: [19, 11, 2], mod:'land1'},
    land4:{z:1, scale: [11, 19, 2], mod:'land1'},
    // camp1:{z:2, scale: [11, 17, 2], mod:'camp0', cid:'team1'},
    // camp2:{z:2, scale: [17, 11, 2], mod:'camp0', cid:'team2'},
    // camp3:{z:2, scale: [11, 17, 2], mod:'camp0', cid:'team3'},
    // camp4:{z:2, scale: [17, 11, 2], mod:'camp0', cid:'team4'},
    base0:{z:3.5, scale: [1, 1, 1], mod:'tower1', cid:'team0'},
    base1:{z:3.5, scale: [1, 1, 1], mod:'tower1', cid:'team1'},
    base2:{z:3.5, scale: [1, 1, 1], mod:'tower2', cid:'team2'},
    base3:{z:3.5, scale: [1, 1, 1], mod:'tower3', cid:'team3'},
    base4:{z:3.5, scale: [1, 1, 1], mod:'tower4', cid:'team4'},
    tower0:{z:3, scale: [.7, .7, .7], mod:'tower1', cid:'team0'},
    tower1:{z:3, scale: [.7, .7, .7], mod:'tower1', cid:'team1'},
    tower2:{z:3, scale: [.7, .7, .7], mod:'tower2', cid:'team2'},
    tower3:{z:3, scale: [.7, .7, .7], mod:'tower3', cid:'team3'},
    tower4:{z:3, scale: [.7, .7, .7], mod:'tower4', cid:'team4'},
    link1:{z:.5, scale: [.7, .8, .8], mod:'bridge1', cid:'team1'},
    link2:{z:.5, scale: [.7, .8, .8], mod:'bridge1', cid:'team2'},
    link3:{z:.5, scale: [.7, .8, .8], mod:'bridge1', cid:'team3'},
    link4:{z:.5, scale: [.7, .8, .8], mod:'bridge1', cid:'team4'},
    link1R:{z:.5, scale: [.8, .7, .8], mod:'bridge1', cid:'team1', rotate:90},
    link2R:{z:.5, scale: [.8, .7, .8], mod:'bridge1', cid:'team2', rotate:90},
    link3R:{z:.5, scale: [.8, .7, .8], mod:'bridge1', cid:'team3', rotate:90},
    link4R:{z:.5, scale: [.8, .7, .8], mod:'bridge1', cid:'team4', rotate:90},
    tree0:{z:4.2, scale: [.8, .8, .8], mod:'tree1', cid:'team0'},
    tree1:{z:3.2, scale: [.8, .8, .8], mod:'tree1', cid:'team1'},
    tree2:{z:3.2, scale: [.8, .8, .8], mod:'tree1', cid:'team2'},
    tree3:{z:3.2, scale: [.8, .8, .8], mod:'tree1', cid:'team3'},
    tree4:{z:3.2, scale: [.8, .8, .8], mod:'tree1', cid:'team4'},
    tree0B:{z:4.2, scale: [1.2, 1.2, 1.2], mod:'tree1', cid:'team0'},
    tree1B:{z:3.2, scale: [1.2, 1.2, 1.2], mod:'tree1', cid:'team1'},
    tree2B:{z:3.2, scale: [1.2, 1.2, 1.2], mod:'tree1', cid:'team2'},
    tree3B:{z:3.2, scale: [1.2, 1.2, 1.2], mod:'tree1', cid:'team3'},
    tree4B:{z:3.2, scale: [1.2, 1.2, 1.2], mod:'tree1', cid:'team4'},
    mapZzdz: {pos:[1,1,1],sacle:[1,1,1], rotate:[0,90,0]},
}
var mapArr = [];
var mapStr = '';

var mapSmall = `,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,tower2,,,,,,,,,,,,,,,,
,,,,,,,,,,,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,hill9,,,,,,,tree2B,,tree2B,,tree2B,,tree2B,camp2,tree2B,,tree2B,,tree2B,,tree2B,,,,,,,,link2,,,,,,,land11|base2|hill2,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,tower2,,,,,,,,,,,,,,,,
,,,,,,,,,,,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,tree1,,tree1,,tree1B,,tree1,,tree1,,,,,c,c,,,,,c,c,,,,,,,,,,,,,,,,,,,,link2R,,,,,
,,,,,,,,,,,,,,c,c,,,,,c,c,,c,,,,,,,,,,,,,,,,,,,,,,,
,tree1,,tree1,,tree1B,,tree1,,tree1,,,,,c,c,,,,,c,c,,c,c,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,c,c,c,c,c,,c,c,,,c,,,,,,,,,,,,,,,,,,,,,,
,tree1,,tree1,,tree1B,,tree1,,tree1,,,,,c,c,c|land33,c,c,,c,c,c,c,c,c,,,,,,,,,,,,,tower2,,,,,,tower2,,
,,,,,,,,,,,,,,c,c,,,c,c,c,c,c,c,c,c,,,,,,,,,,,,,,,,,,,,,
,tree1,,tree1,,tree1B,,tree1,,tree1,,,,,c,c,,,c,c,c,c,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,camp1,,,,,,,c,c,c,c,c,c,,b,c,c,,c,c,,,,,,,,,,,,,,,,,,,,,,
,tree1,,tree1,,tree1B,,tree1,,tree1,,,c,c,c,c,c,c,,,c,c,,c,c,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,c,c,,,,c,,,c,c,,c,c,,,,,,,,,,,,,,,,,,,,,,
,tree1,,tree1,,tree1B,,tree1,,tree1,,,c,c,,,,c,,,,c,c,c,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,c,c,c,c,c,c,,,,c,c,river51,,,,,,,,,,,link2,,,,,,,land2,,,,,
,tree1,,tree1,,tree1B,,tree1,,tree1,,,c,c,c,c,c,c,,,c,c,c,c,,c,c,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,c,c,,,,,,c,c,,,c,c,c,c,,,,,,,,,,,,,,,,,,,,
,tree1,,tree1,,tree1B,,tree1,,tree1,,,,,,,,,c,c,,,,,c,c,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,tower1,,,,,,tower1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,tower2,,,,,,tower2,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,link1R,,,,,,,,,,,,,,,,,,link1R,,,,,,,,,,,,,,,,,,link2R,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,tower1,,,,,,,,,,,,,,tower1,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,land11|base1|hill1,,,,,,,link1,,,,,,,,,,,land1,,,,,,,,,,,link1,,,,,,,land11|base0|hill0,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,tower1,,,,,,,,,,,,,,tower1,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
`;


var mapLarge = `,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,tower3,,,,,,,,,,,,,,tower3,,,,,,,,,,,,,,,,,,,,,,tower3,,,,,,,,,,,,,,tower3,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,land11|base0|hill0,,,,,,,link3,,,,,,,,,,,land3,,,,,,,,,,,link3,,,,,,,land11|base3|hill3,,,,,,,link3,,,,,,,,,,,land3,,,,,,,,,,,link3,,,,,,,land11|base0|hill0,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,tower3,,,,,,,,,,,,,,tower3,,,,,,,,,,,,,,,,,,,,,,tower3,,,,,,,,,,,,,,tower3,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,link4R,,,,,,,,,,,,,,,,,,link3R,,,,,,,,,,,,,,,,,,link3R,,,,,,,,,,,,,,,,,,link3R,,,,,,,,,,,,,,,,,,link2R,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,tower4,,,,,,tower4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,tower3,,,,,,tower3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,tower2,,,,,,tower2,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,c,c,,,,,,tree3,,tree3,,tree3B,,tree3,,tree3,,,,,c,c,,,,,c,c,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,c,c,c,,,,,c,c,,,,,,,,,,,,,,,,,,,c,c,c,,,,c,c,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,c,c,c,c,c,c,,,,,c,c,,,,,,tree3,,tree3,,tree3B,,tree3,,tree3,,,,,,c,c,,,c,c,c,c,c,c,c,c,,,,,,,,,,,,,,,,,,,,
,,,,,land4,,,,,,,link4,,,,,,,,c,c,c,c,,,,c,c,c,c,c,c,c,c,,,,,,,,,,,,,,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,,,,,,,,link2,,,,,,,land2,,,,,
,,,,,,,,,,,,,,,,,,,,,,c,c,,,,c,c,c,c,c,c,c,c,,,tree3,,tree3,,tree3B,,tree3,,tree3,,,c,c,c,c,c,c,c,c,,c,c,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,c,c,c,c,c,c,,c,c,,c,c,,c,c,,,,,,,,,,,,,,,,c,c,,,,,c,c,c,c,c,c,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,c,c,c,c,c,c,,c,c,,c,c,,c,c,,,tree3,,tree3,,tree3B,,tree3,,tree3,,,,,c,c,c,c,,c,c,c,c,c,c,c,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,c,c,,,,b|c,c,,c,c,,c,c,,,,,,,camp3,,,,,,,,,c,c,c,c,,b|c,c,,c,c,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,c,c,c,c,,,c,c,c,c,c,c,c,c,,,tree3,,tree3,,tree3B,,tree3,,tree3,,,,,c,,c,c,,,,,c,c,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,c,c,c,c,c,,c,c,c,c,c,c,c,c,,,,,,,,,,,,,,,,c,,c,c,,c,c,c,c,c,c,c,c,,,,,,,,,,,,,,,,,,,,
,,tower4,,,,,,tower4,,,,,,,,,,,,c,c,c,c,,c,,c,c,,c,c,,c,c,,,tree3,,tree3,,tree3B,,tree3,,tree3,,,,,c,,c,c,,c,c,c,c,c,c,c,c,,,,,,,,,,,,tower2,,,,,,tower2,,
,,,,,,,,,,,,,,,,,,,,c,,c,c,,,,,,,c,c,,,,,,,,,,,,,,,,,,c,c,,c,c,,,,c,c,c,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,c,c,,,,,,,c,c,,,,,,tree3,,tree3,,tree3B,,tree3,,tree3,,,,c,,c,c,c,,,c,c,,c,c,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,c,c,,,,,,,c,c,,,,,,,,,,,,,,,,,c,c,,c,c,,,c,c,,,,c,c,,,,,,,,,,,,,,,,,,,,,
,,,,,link4R,,,,,,,,,,,,,,,,,c,c,,,,,,,c,c,,,,,,tree3,,tree3,,tree3B,,tree3,,tree3,,,c,,,,,,c,c,,,,,,c,c,,,,,,,,,,,,,,,link2R,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,tree4,,tree4,,tree4,,tree4,,tree4,,tree4,,tree4,,tree4,,,,,,,,,,,,,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,tower4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,tower2,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,tree4,,tree4,,tree4,,tree4,,tree4,,tree4,,tree4,,tree4,,,,,,,,,,,,,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,land11|base4|hill4,,,,,,,link4,,,,,,,,tree4B,,tree4B,,tree4B,,tree4B,camp4,tree4B,,tree4B,,tree4B,,tree4B,,,,,,,land55|river87|hill9,,,,,,,tree2B,,tree2B,,tree2B,,tree2B,camp2,tree2B,,tree2B,,tree2B,,tree2B,,,,,,,,link2,,,,,,,land11|base2|hill2,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,tree4,,tree4,,tree4,,tree4,,tree4,,tree4,,tree4,,tree4,,,,,,,,,,,,,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,tower4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,tower2,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,tree4,,tree4,,tree4,,tree4,,tree4,,tree4,,tree4,,tree4,,,,,,,,,,,,,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,tree2,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,link4R,,,,,,,,,,,,,,,,,,,,,c,c,,,,,,,,,,tree1,,tree1,,tree1B,,tree1,,tree1,,,,,c,c,,,,,c,c,,,,,,,,,,,,,,,,,,,,link2R,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,c,c,,,,,,,,,,,,,,,,,,,,,,,c,c,,,,,c,c,,c,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,c,c,,,,,,,,,,tree1,,tree1,,tree1B,,tree1,,tree1,,,,,c,c,,,,,c,c,,c,c,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,c,c,,,,,,,,,,,,,,,,,,,,,,,c,c,c,c,c,,c,c,,,c,,,,,,,,,,,,,,,,,,,,,,
,,tower4,,,,,,tower4,,,,,,,,,,,,,c,c,c,c,c,c,c,c,c,c,c,c,c,,,,tree1,,tree1,,tree1B,,tree1,,tree1,,,,,c,c,c,c,c,,c,c,c,c,c,c,,,,,,,,,,,,,tower2,,,,,,tower2,,
,,,,,,,,,,,,,,,,,,,,,c,c,c,c,c,c,c,c,c,c,c,c,c,,,,,,,,,,,,,,,,,c,c,,,c,c,c,c,c,c,c,c,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,c,c,,,,,,,,,,tree1,,tree1,,tree1B,,tree1,,tree1,,,,,c,c,,,c,c,c,c,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,c,b|c,,,,,,,,,,,,,,camp1,,,,,,,c,c,c,c,c,c,,b,c,c,,c,c,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,c,c,,,,,,,,,,tree1,,tree1,,tree1B,,tree1,,tree1,,,c,c,c,c,c,c,,,c,c,,c,c,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,c,c,c,c,,,,,,,,,,,,,,,,,,,,c,c,,,,c,,,c,c,,c,c,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,c,c,,c,c,,,,,,,,tree1,,tree1,,tree1B,,tree1,,tree1,,,c,c,,,,c,,,,c,c,c,,,,,,,,,,,,,,,,,,,,,,,
,,,,,land4,,,,,,,link4,,,,,,,,,,,,c,c,,,,c,c,,,,,,,,,,,,,,,,,,c,c,c,c,c,c,,,,c,c,,,,,,,,,,,,link2,,,,,,,land2,,,,,
,,,,,,,,,,,,,,,,,,,,,,,c,c,,,,,,c,c,,,,,,tree1,,tree1,,tree1B,,tree1,,tree1,,,c,c,c,c,c,c,,,c,c,c,c,,c,c,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,c,c,,,,,,,,c,c,,,,,,,,,,,,,,,,c,c,,,,,,c,c,,,c,c,c,c,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,c,c,,,,,,,,,,c,c,,,,tree1,,tree1,,tree1B,,tree1,,tree1,,,,,,,,,c,c,,,,,c,c,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,tower4,,,,,,tower4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,tower1,,,,,,tower1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,tower2,,,,,,tower2,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,link4R,,,,,,,,,,,,,,,,,,link1R,,,,,,,,,,,,,,,,,,link1R,,,,,,,,,,,,,,,,,,link1R,,,,,,,,,,,,,,,,,,link2R,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,tower1,,,,,,,,,,,,,,tower1,,,,,,,,,,,,,,,,,,,,,,tower1,,,,,,,,,,,,,,tower1,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,land11|base0|hill0,,,,,,,link1,,,,,,,,,,,land1,,,,,,,,,,,link1,,,,,,,land11|base1|hill1,,,,,,,link1,,,,,,,,,,,land1,,,,,,,,,,,link1,,,,,,,land11|base0|hill0,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,tower1,,,,,,,,,,,,,,tower1,,,,,,,,,,,,,,,,,,,,,,tower1,,,,,,,,,,,,,,tower1,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
`;


var Util = {
    radius: function(x, y) {
        return Math.sqrt(x*x + y*y);
    },
    v3copy: function(v3) {
        return [v3[0], v3[1], v3[2]];
    },
    v3plus: function(v3, v) {
        return [v3[0]+v[0], v3[1]+v[1], v3[2]+v[2]];
    },
    v3rand: function(v3) {
        return [v3[0]*Math.random(), v3[1]*Math.random(), v3[2]*Math.random()];
    },
    v3mult: function(v3, mult) {
        return [v3[0]*mult, v3[1]*mult, v3[2]*mult];
    },
    v3cross: function(v3, v) {
        return [v3[0]*v[0], v3[1]*v[1], v3[2]*v[2]];
    },
    v3tran: function(v3, deg) {
        if (deg == 90)
            return [v3[1], v3[0], v3[2]];
        if (deg == 180)
            return [-v3[0], -v3[1], v3[2]];
        if (deg == -90)
            return [-v3[1], -v3[0], v3[2]];
        return v3;
    },
    v3tranXY: function(v3, deg) {
        return [v3[1], v3[0], v3[2]];
    },
    v3tranYZ: function(v3) {
        return [v3[0], v3[2], v3[1]];
    },
    v3tranXZ: function(v3) {
        return [v3[2], v3[1], v3[0]];
    },
    v3ignoreX: function(v3) {
        return [0, v3[1], v3[2]];
    },
    v3ignoreY: function(v3) {
        return [v3[0], 0, v3[2]];
    },
    v3ignoreZ: function(v3) {
        return [v3[0], v3[1], 0];
    },
}



